<div class="row">
	<div class="col-sm-12">
		<div class="header">
        	<h3 class="header-title">Block #{{number}}</h3>
        	
		</div>
	</div>
</div>

<div class="row">
	<div class="col-sm-12">
		<div class="main-content">

		      <table class="table table-striped table-hover table-bordered">
		
		         <tr>
		             <th colspan="2"><b>Summary</b></th>
		         </tr>
		          <tbody>
		         <tr>
		            <td>Number of Transactions</td>
		            <td>
		               {{ block.transaction_count }}&emsp;
		           </td>
		         </tr>
		         <tr>
		             <td>Block ID</td>
		             <td>
		                 {{ block.block_hash}}&emsp;
		             </td>
		         </tr>
		         <tr>
		            <td>Previous Block ID</td>
		            <td>
		               {{ block.previous }}&emsp;
		           </td>
		         </tr>
		         <tr>
		            <td>Block Fee Rate</td>
		            <td>
		               {{ block.fee_rate/1000 }}&emsp;
		            </td>
		         </tr>
		         <tr>
		             <td>Delegate Name</td>
		             <td>
		                 {{ block.delegate_name}}&emsp;
		             </td>
		         </tr>
		         <tr>
		            <td>Delegate Pay Rate</td>
		            <td>
		               {{ block.delegate_pay_rate }}&emsp;
		           </td>
		         </tr>
		          <tr>
		            <td>TimeStamp</td>
		            <td>
		               {{ block.timestamp | prettyDate}}&emsp;
		           </td>
		         </tr>
		         <tr>
		            <td>Transaction Digest</td>
		            <td>
		               {{ block.transaction_digest }}&emsp;
		           </td>
		         </tr>
		          <tr>
		            <td>Next Secret Hash</td>
		            <td>
		               {{ block.next_secret_hash }}&emsp;
		           </td>
		         </tr>
		         <tr>
		            <td>Previous Secret</td>
		            <td>
		               {{ block.previous_secret }}&emsp;
		           </td>
		         </tr>
		         <tr>
		            <td>Delegate Signature</td>
		            <td>
		               <p class="long-shorten-text-r">{{ block.delegate_signature }}&emsp;</p>
		           </td>
		         </tr>
		        </tbody>
		      </table>
</div></div></div>
   <!--
   <tabset>
      <tab heading="Transactions" >
         <div ng-repeat="trx in block.user_transactions">
            <pre>{{trx}}</pre>
         </div>
      </tab>
   </tabset>
   -->
   		<div class="row">
           <div class="col-sm-12">
           		<div class="header">
                      		<h3 class="header-title">Transactions</h3>
               		
               	<div class=" col-sm-12 pull-right p-inner">
               	       Filter transactions by operation:&nbsp;<input ng-model="operation_filter" type="text"/>
               	    </div>
               	
               		
                </div>
           </div>
   		</div>
      
        
       
   <div class="col-sm-12">
       <div id="transaction_summary">
   		<table class="table table-striped table-hover">
   			<thead>
   			<tr>
   				<th>Transaction ID</th>
   				<th>Withdraw Amount</th>
   				<th>Deposit Amount</th>
   				<th>Net Delegate Votes</th>
   				<th>Operation Types</th>
                   <th>Fee</th>
   			</tr>
   			</thead>

            <tbody>
			<tr ng-repeat="t in block.transactions" ng-if="t.operations | filterByOperations: operation_filter ">
                <td><a href="#/tx/{{t.id}}">{{ t.id.substr(0,8) }}</a></td>
                <td>
                    <div ng-repeat="withdraw in t.withdraws"><span>{{withdraw[1] | toAsset | formatAsset}}</span><br></div></td>
                <td>
                    <div ng-repeat="deposit in t.deposits"><span>{{deposit[1] | toAsset | formatAsset}}</span><br></div></td>
                <td>
                    <div ng-repeat="net_vote in t.net_delegate_votes | limitTo: 3">
                        <span><a href="#/accounts/{{net_vote[0] | delegateName}}">{{ net_vote[0] | delegateName }}</a>:&nbsp; </span>
                        <span>{{{"amount": net_vote[1].votes_for - net_vote[1].votes_against, "asset_id": 0} | toAsset | formatAsset }}</span><br></div></td>
                <td>
                    <div ng-repeat="operation in t.operations"><span>-&nbsp;{{ operation.type | formatOperationType}}</span><br></div></td>
                <td><div ng-repeat="b in t.balance"><span>{{ {"amount": b[1], "asset_id": b[0]} | toAsset | formatAsset }}</span><br></div></td>
			</tr>
            <tr ng-if=" block.transactions.length == 0 ">
                <td><span>There are no transactions in this block.</span></td>
                <td colspan="5"/>
			</tr>

			</tbody>
		</table>
	</div>
</div>
</div>
